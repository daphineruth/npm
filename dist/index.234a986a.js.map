{"mappings":"AAEA,MAAMA,EAASC,OAAOC,OAAO,CAC3B,CAAEC,MAAO,IAAKC,YAAa,iBAAoBC,KAAM,SAClD,CAADF,OAAO,GAAKC,YAAa,eAAkBC,KAAM,SAChD,CAADF,MAAO,KAAMC,YAAa,uBAA8BC,KAAM,SACxD,CAANF,MAAO,IAAKC,YAAa,oBAA2BC,KAAM,SACpD,CAANF,OAAO,KAAOC,YAAa,gBAAmBC,KAAM,SACnD,CAADF,OAAO,GAAKC,YAAa,WAAcC,KAAM,WAC5C,CAADF,OAAO,IAAMC,YAAa,UAAaC,KAAM,WAC5C,CAADF,OAAO,KAAOC,YAAa,gBAAmBC,KAAM,WAGlDC,EAAiBL,OAAOC,OAAO,CACnCK,MAAO,KACPC,QAAS,MAKLC,EAAW,CAACC,EAAQL,IAASK,IAASL,IAAS,EAG/CM,EAAa,SACjBC,EACAF,EACAP,EACAC,EACAC,EAAO,SAEP,MAAMQ,EAAYR,EAAKS,cAEvB,OAAOX,GAASM,EAASC,EAAQG,GAC7B,IAAID,EAAO,CAAET,OAAQA,EAjC3BC,YAiCkCA,EAAaC,KAAMQ,IAC/CD,GAGAG,EAAaJ,EAAWX,EAAQM,EAAgB,GAAI,YACpDU,EAAaL,EACjBI,EACAT,EACA,IACA,qBAAmB,WAGfW,EAAaN,EAAWK,EAAYV,EAAgB,IAAK,QAAS,OAmBlEY,GAPwBR,EAOgBJ,EAAZW,EAN1BE,KAAIC,GACRA,EAAMjB,OAASM,EAASC,EAAQU,EAAMf,MAClC,IAAKe,EAAOC,KAAM,SAClBD,KAJc,IAAQV,EAQ9BY,QAAQC,IAAIL,IAGW,SAAUN,EAAOY,GACtC,MAAMC,EAAcb,EACjBc,QAAON,GAASA,EAAMjB,QAAUqB,IAChCL,KAAIC,GAASA,EAAMhB,YAAYuB,OAAM,KACrCC,KAAK,OAGRN,QAAQC,IAAIE,GAUdI,CAAeX,EAAa","sources":["clean.js"],"sourcesContent":["'strict mode';\r\n\r\nconst budget = Object.freeze([\r\n  { value: 250, description: 'Sold old TV ðŸ“º', user: 'jonas' },\r\n  { value: -45, description: 'Groceries ðŸ¥‘', user: 'jonas' },\r\n  { value: 3500, description: 'Monthly salary ðŸ‘©â€ðŸ’»', user: 'jonas' },\r\n  { value: 300, description: 'Freelancing ðŸ‘©â€ðŸ’»', user: 'jonas' },\r\n  { value: -1100, description: 'New iPhone ðŸ“±', user: 'jonas' },\r\n  { value: -20, description: 'Candy ðŸ­', user: 'matilda' },\r\n  { value: -125, description: 'Toys ðŸš‚', user: 'matilda' },\r\n  { value: -1800, description: 'New Laptop ðŸ’»', user: 'jonas' },\r\n]);\r\n\r\nconst spendingLimits = Object.freeze({\r\n  jonas: 1500,\r\n  matilda: 100,\r\n});\r\n\r\n\r\n// const limit = spendingLimits[user] ? spendingLimits[user] : 0;\r\nconst getLimit = (limits, user) => limits?.[user] ?? 0;\r\n\r\n// Pure function :D\r\nconst addExpense = function (\r\n  state,\r\n  limits,\r\n  value,\r\n  description,\r\n  user = 'jonas'\r\n) {\r\n  const cleanUser = user.toLowerCase();\r\n\r\n  return value <= getLimit(limits, cleanUser)\r\n    ? [...state, { value: -value, description, user: cleanUser }]\r\n    : state;\r\n};\r\n\r\nconst newBudget1 = addExpense(budget, spendingLimits, 10, 'Pizza ðŸ•');\r\nconst newBudget2 = addExpense(\r\n  newBudget1,\r\n  spendingLimits,\r\n  100,\r\n  'Going to movies ðŸ¿',\r\n  'Matilda'\r\n);\r\nconst newBudget3 = addExpense(newBudget2, spendingLimits, 200, 'Stuff', 'Jay');\r\n\r\n// const checkExpenses2 = function (state, limits) {\r\n//   return state.map(entry => {\r\n//     return entry.value < -getLimit(limits, entry.user)\r\n//       ? { ...entry, flag: 'limit' }\r\n//       : entry;\r\n//   });\r\n//   // for (const entry of newBudget3)\r\n//   //   if (entry.value < -getLimit(limits, entry.user)) entry.flag = 'limit';\r\n// };\r\n\r\nconst checkExpenses = (state, limits) =>\r\n  state.map(entry =>\r\n    entry.value < -getLimit(limits, entry.user)\r\n      ? { ...entry, flag: 'limit' }\r\n      : entry\r\n  );\r\n\r\nconst finalBudget = checkExpenses(newBudget3, spendingLimits);\r\nconsole.log(finalBudget);\r\n\r\n// Impure\r\nconst logBigExpenses = function (state, bigLimit) {\r\n  const bigExpenses = state\r\n    .filter(entry => entry.value <= -bigLimit)\r\n    .map(entry => entry.description.slice(-2))\r\n    .join(' / ');\r\n  // .reduce((str, cur) => `${str} / ${cur.description.slice(-2)}`, '');\r\n\r\n  console.log(bigExpenses);\r\n\r\n  // let output = '';\r\n  // for (const entry of budget)\r\n  //   output +=\r\n  //     entry.value <= -bigLimit ? `${entry.description.slice(-2)} / ` : '';\r\n  // output = output.slice(0, -2); // Remove last '/ '\r\n  // console.log(output);\r\n};\r\n\r\nlogBigExpenses(finalBudget, 500);\r\n"],"names":["$28b434b534ccdd30$var$budget","Object","freeze","value","description","user","$28b434b534ccdd30$var$spendingLimits","jonas","matilda","$28b434b534ccdd30$var$getLimit","limits","$28b434b534ccdd30$var$addExpense","state","cleanUser","toLowerCase","$28b434b534ccdd30$var$newBudget1","$28b434b534ccdd30$var$newBudget2","$28b434b534ccdd30$var$newBudget3","$28b434b534ccdd30$var$finalBudget","map","entry","flag","console","log","bigLimit","bigExpenses","filter","slice","join","$28b434b534ccdd30$var$logBigExpenses"],"version":3,"file":"index.234a986a.js.map"}